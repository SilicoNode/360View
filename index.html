<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>360 View of a Restaurant</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum/build/pannellum.css">
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
    #panorama {
      width: 100vw;
      height: 100vh;
    }
    .control-button {
      position: fixed;
      bottom: 414px;
      left: 3px;
      
      background-color: #ffffff;
      color: white;
      border: none;
      border-radius: 15%;
      cursor: pointer;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      transition: background-color 0.3s ease;
    }
    .control-button:hover {
      background-color: #c8c8c8;
      
    
    }
    .control-button svg {
      width: 18px;
      height: 18px;
      fill: rgb(0, 0, 0);
    }
    .custom-icon {
      position: absolute;
      width: 50px;
      height: 50px;
      border: 3px solid rgba(255, 255, 255, 0.8);
      border-radius: 5px;
      background-color: transparent;
      cursor: pointer;
      transform: translate(-50%, -50%);
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 14px;
      font-weight: bold;
      color: white;
      text-align: center;
      opacity: 0.8;
      transition: background-color 0.3s ease;
    }
    .custom-icon:hover {
      background-color: rgba(255, 63, 63, 0.3);
      opacity: 1;
    }
    .custom-icon span {
      display: block;
      position: absolute;
      top: 60px; /* Position below the box */
      left: 50%;
      transform: translateX(-50%);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      font-size: 12px;
      color: white;
    }
    .custom-icon:hover span {
      display: inline-block;
    }
    .social-media-fixed {
      position: fixed;
      display: flex;
      flex-direction: column;
      top: 10px;
      right: 10px;
      z-index: 1000;
      display: flex;
      gap: 10px;
    }
    .social-media-fixed a {
      text-decoration: none;
      color: white;
      width: 30px;
      height: 30px;
    }
    .social-media-fixed svg {
      width: 100%;
      height: 100%;
      fill: white;
    }
    .logo {
            position: fixed;
            bottom: 0px;
           border: #ffffff;
margin-left:-55px;
            width: 200px;
            height: 200px;
        }
  </style>
</head>
<body>
  <div id="panorama"></div>
  <button class="control-button" id="autoRotateButton">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path d="M12 2a10 10 0 1 0 10 10h-2a8 8 0 1 1-2.34-5.66l-2.83 2.83H22V2l-2.41 2.41A9.95 9.95 0 0 0 12 2zm0 4a6 6 0 1 0 6 6h-2a4 4 0 1 1-2.64-3.74L13.24 10H18V5.24l-1.36 1.36A5.98 5.98 0 0 0 12 6z"/>
    </svg>
  </button>
  <div class="social-media-fixed">
    <a href="https://www.facebook.com" target="_blank" title="Facebook">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M22.675 0H1.325C.593 0 0 .593 0 1.326v21.348C0 23.407.593 24 1.325 24h11.495v-9.294H9.69v-3.622h3.13V8.413c0-3.1 1.893-4.788 4.655-4.788 1.325 0 2.462.099 2.794.143v3.24l-1.917.001c-1.505 0-1.796.716-1.796 1.764v2.31h3.59l-.467 3.622h-3.123V24h6.116c.73 0 1.323-.593 1.323-1.326V1.326C24 .593 23.407 0 22.675 0z"/>
      </svg>
    </a>
    <a href="https://www.instagram.com" target="_blank" title="Instagram">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M12 2.163c3.204 0 3.584.012 4.849.07 1.366.062 2.633.34 3.608 1.316.975.975 1.254 2.242 1.316 3.608.058 1.265.07 1.645.07 4.849s-.012 3.584-.07 4.849c-.062 1.366-.34 2.633-1.316 3.608-.975.975-2.242 1.254-3.608 1.316-1.265.058-1.645.07-4.849.07s-3.584-.012-4.849-.07c-1.366-.062-2.633-.34-3.608-1.316-.975-.975-1.254-2.242-1.316-3.608C2.175 15.584 2.163 15.204 2.163 12s.012-3.584.07-4.849c.062-1.366.34-2.633 1.316-3.608.975-.975 2.242-1.254 3.608-1.316C8.416 2.175 8.796 2.163 12 2.163M12 0C8.741 0 8.332.015 7.052.072 5.773.13 4.658.403 3.76 1.3 2.863 2.197 2.59 3.312 2.532 4.591 2.475 5.871 2.46 6.28 2.46 9.539c0 3.26.015 3.668.072 4.948.058 1.279.33 2.394 1.228 3.291.897.897 2.012 1.17 3.291 1.228 1.28.058 1.689.072 4.948.072s3.668-.015 4.948-.072c1.279-.058 2.394-.33 3.291-1.228.897-.897 1.17-2.012 1.228-3.291.058-1.28.072-1.689.072-4.948s-.015-3.668-.072-4.948c-.058-1.279-.33-2.394-1.228-3.291-.897-.897-2.012-1.17-3.291-1.228C15.668.015 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zm0 10.162a3.999 3.999 0 110-7.998 3.999 3.999 0 010 7.998zm6.406-11.845a1.44 1.44 0 11-2.882 0 1.44 1.44 0 012.882 0z"/>
      </svg>
    </a>
    <a href="https://www.google.com/maps" target="_blank" title="Location">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M12 2C8.134 2 5 5.134 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.866-3.134-7-7-7zm0 9.5a2.5 2.5 0 110-5 2.5 2.5 0 010 5z"/>
      </svg>
    </a>
    <a href="https://www.siliconode.com" target="_blank" aria-label="Website">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M12 0a12 12 0 1 0 12 12A12 12 0 0 0 12 0zm0 22.209A10.209 10.209 0 1 1 22.209 12 10.209 10.209 0 0 1 12 22.209zm.6-14.157a6.815 6.815 0 0 0-6.785 6.785h-2.57A9.376 9.376 0 0 1 12 2.625v2.927a6.815 6.815 0 0 0-.6-.5zM12 18.576a6.815 6.815 0 0 0 6.785-6.785h2.57A9.376 9.376 0 0 1 12 21.375v-2.927a6.815 6.815 0 0 0 .6.5zm-7.191-8.633h2.684a6.819 6.819 0 0 0 .123-2.42h-2.69a9.367 9.367 0 0 1-.117 2.42zm14.357 0a9.367 9.367 0 0 1-.117-2.42h-2.69a6.819 6.819 0 0 0 .123 2.42z"/>
      </svg>
    </a>
    <a href="https://example.com/videos" target="_blank" class="link-item" title="Watch Videos">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M23 7v10c0 1.1-.9 2-2 2H3c-1.1 0-2-.9-2-2V7c0-1.1.9-2 2-2h18c1.1 0 2 .9 2 2zM9 16l6.5-4L9 8v8z"/>
      </svg>
      
  </a>

  <!-- Gallery Link -->
  <a href="https://example.com/gallery" target="_blank" class="link-item" title="View Gallery">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M21 3H3c-1.11 0-1.99.9-1.99 2L1 19c0 1.1.89 2 1.99 2H21c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM21 19H3V5h18v14zM6.5 12.75c.83 0 1.5-.67 1.5-1.5S7.33 9.75 6.5 9.75 5 10.42 5 11.25s.67 1.5 1.5 1.5zM19 15H9l3-4 2.25 3L17 11l2 4z"/>
      </svg>
      
  </a>
  </div>
  <img src="./logo.png" alt="Logo" class="logo">
  <script src="https://cdn.jsdelivr.net/npm/pannellum/build/pannellum.js"></script>
  <script>
    let isRotating = false;
    let animationFrameId = null;
    const ROTATION_SPEED = 500; // Degrees per second
    let lastTime = performance.now();

    // Initialize the Pannellum viewer
    const viewer = pannellum.viewer('panorama', {
      default: {
        firstScene: 'scene1',
        autoLoad: true,
        compass: true,
        defaultFov: 120,
        maxFov: 150,
        minFov: 30,
      },
      scenes: {
        scene1: {
          title: 'Dining Hall',
          type: 'equirectangular',
          panorama: 'img3.jpg',
          hotSpots: [
            {
              pitch: 0,
              yaw: 20,
              createTooltipFunc: customTooltip,
              createTooltipArgs: {
                text: 'Bar',
                sceneId: 'scene2',
              },
            },
          ],
        },
        scene2: {
          title: 'Bar',
          type: 'equirectangular',
          panorama: 'img4.jpg',
          hotSpots: [
            {
              pitch: 0,
              yaw: 50,
              createTooltipFunc: customTooltip,
              createTooltipArgs: {
                text: 'Dining Hall',
                sceneId: 'scene1',
              },
            },
          ],
        },
      },
    });

    function customTooltip(hotSpotDiv, args) {
      hotSpotDiv.classList.add('custom-icon');
      const span = document.createElement('span');
      span.textContent = args.text;
      hotSpotDiv.appendChild(span);

      if (args.sceneId) {
        hotSpotDiv.onclick = () => viewer.loadScene(args.sceneId);
      }
    }

    function rotate(currentTime) {
      if (!isRotating) return;

      const deltaTime = (currentTime - lastTime) / 100; // Convert to seconds
      lastTime = currentTime;

      const currentYaw = viewer.getYaw();
      const rotationAmount = ROTATION_SPEED * deltaTime;
      viewer.setYaw(currentYaw + rotationAmount);

      animationFrameId = requestAnimationFrame(rotate);
    }

    function startRotation() {
      if (!isRotating) {
        isRotating = true;
        lastTime = performance.now();
        animationFrameId = requestAnimationFrame(rotate);
        autoRotateButton.classList.add('rotating');
      }
    }

    function stopRotation() {
      isRotating = false;
      if (animationFrameId) {
        cancelAnimationFrame(animationFrameId);
        animationFrameId = null;
      }
      autoRotateButton.classList.remove('rotating');
    }

    const autoRotateButton = document.getElementById('autoRotateButton');
    autoRotateButton.addEventListener('click', () => {
      if (!isRotating) {
        startRotation();
      } else {
        stopRotation();
      }
    });

    // Handle user interactions
    viewer.on('mousedown', stopRotation);
    viewer.on('touchstart', stopRotation);

    // Clean up on page unload
    window.addEventListener('unload', () => {
      if (animationFrameId) {
        cancelAnimationFrame(animationFrameId);
      }
    });
  </script>
</body>
</html>
